- DDL Data Definition Language for defining database structure
	- create a table, create indexes, alter table, etc.
- DML Data Manipulation Language for retrieving and updating data
	- select rows from 1 or more tables (using joins), insert, update, or delete rows

## Deliverable 4
![[Drawing 2025-09-25 10.43.43.excalidraw]]

## Composite Key
- multiple column fields that uniquely identify (are all different vals) an entity
![[Drawing 2025-09-30 09.42.46.excalidraw]]


### Commands
Sigma_x>#
- retrieve all where condition (x > #)
Pi_x,y
- retrieve columns x and y
### Joins
- Combine information from two or more tables
- Example:

## Create Table
- every tables maps to a class
	- ex: Springboot

```
CREATE TABLE Club (
	Id INT UNSIGNED PRIMARY KEY,
	Name VARCHAR(255) NOT NULL,
	Address VARCHAR(255),
	Established DATETIME
);

CREATE TABLE IsMemberOf (
	Id INT UNSIGNED PRIMARY KEY,
	Name VARCHAR(255) ...
);

```

### Select-From-Where query
"Find all clubs"
- SELECT * FROM Club
"Find all names of all persons under 18"
* SELECT p.FirstName
* FROM p.Member
* WHERE 


## Object Persistence
- Classes are mapped onto tables


## m-m relationships
- One to Many
	- Primary key on One side is Foreign key on Many side
	- Ex: What i have in Springboot

- Many to Many
	- create third table
	- twwo foreign keys for each table
	- 

Employee table
- primary key

Skills table
- primary key
- include foreign key to employee

Employee Skills (Composite key[empId, skillId])
- Many skills have many employees
- many employees have many skills

| id [PK] | empId [FK] | skillId [FK] |
| ------- | ---------- | ------------ |
|         |            |              |

## generalization mapping (inheritance)
![[Drawing 2025-09-30 10.12.11.excalidraw]]


| id  | Type_id [FK references id in table UserTypes] | name | email | password | address           |
| --- | --------------------------------------------- | ---- | ----- | -------- | ----------------- |
| 1   | 1                                             |      |       |          | NULL              |
| 2   | 2                                             |      |       |          | "123 main street" |

**User Types**

| id  | Type     |
| --- | -------- |
| 1   | admin    |
| 2   | customer |

**Map to one table**
- retrieve all admins
```MySQL
SELECT * from Users 
WHERE typeid=1
```
```PostgreSQL
SELECT u from Users u
WHERE type_id=1

```

## Normalization
- Database Normalization **reduces redundancy** which make tables/*database smaller* and *querying faster*

## B-trees used w/in databases
- B-trees are a fundamental data structure in computer science, specifically designed for efficient storage and retrieval of data on disk. Their relationship with databases, particularly PostgreSQL, is central to how these systems achieve high performance.

### Relationship to Databases (PostgreSQL):
- **Indexing:**
    B-trees are the default and most commonly used index type in PostgreSQL. When you create an index on a column or set of columns in a table, PostgreSQL typically implements this index using a B-tree structure.
- **Efficient Data Retrieval:**
    B-trees are optimized for disk I/O, which is crucial for databases where data often resides on slower storage devices. Their balanced, multi-way tree structure minimizes the number of disk reads required to locate specific data records, offering logarithmic time complexity for search, insertion, and deletion operations.

<hr>

## Deliverable 5
- **Include Primary Key**
	- underline it or write [PK]
- Foreign Keys reference


## QUIZ
- uga members borrow books
- each member can borrow multiple books, and each book can be borrowed by multiple members

for every borrowing event, the borrow date and return date must be recorded
it is possible for the same member to borrow the same book multiple times (on different dates),
but a member should not borrow the same book more than once on the same date

We have 2 classes in class diagram: Book and Borrower w/ a many-to-many relationship. 
class book has attributes, serial number, ISBN, title, and author. Class borrower has the attributes UGA_ID and name.

Putting constraints in database makes querying faster, less querying with specifics conditionals

member:
- id [PK] : Primary Key
- UGA_ID : INT
- name : String

book:
- id [PK] : Primary Key
- serial: INT
- ISBN: String
- title : String
- author: String

Member_Book:
- id [PK] : Primary Key
- member_id [FK] : Foreign Key
- book_id [FK] : Foreign Key
- borrow_date : Date
- return_date : date
- already_borrowed : BOOLEAN

- [ ] Object Relational Mapping Quiz 3
- what is orm?
- given (activity 6), insert table or listing attributes clearly
- many-to-many: have a separate 

