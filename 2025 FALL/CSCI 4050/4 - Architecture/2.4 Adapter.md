# Adapter
- The adapter pattern lets classes work together that could not otherwise because of incompatible interfaces
	- *"Convert the interface of a class into another interface expected by a client class."*
	- Used to provide new interfaces to existing legacy components (Interface engineering, reengineering)

- Intent:
	- Convert the interface of a class into another interface clients expect
	- Adapter lets classes work together, that could not otherwise because of incompatible interfaces

- Structure
	- ![[Drawing 2025-10-23 10.21.22.excalidraw]]

## Class Adapter
- **Uses inheritance**
- Ex: PaymentProcessor, LegacyPaymentGateway, and LegacyPaymentAdapter
	- The adapter would `implement PaymentProcessor` and also `extend LegacyPaymentGateway`. 
	- This is often undesirable or impossible (e.g., in Java, you can't multiple-inherit from a class, and what if `LegacyPaymentGateway` was a `final` class?).
## Object Adapter
- **Uses composition**
- Uses single inheritance and delegation otherwise because of incompatible interfaces
- Ex: PaymentProcessor, LegacyPaymentGateway, and LegacyPaymentAdapter
	- The adapter `implements PaymentProcessor` and _holds a private field_ for the `LegacyPaymentGateway`. (e.g., `private LegacyPaymentGateway gateway;`).

## Why Object Adapter?
- Follows core OOP principle: **"Favor composition over inheritance."**
- more flexible, as the adapter isn't tied to a specific implementation of the legacy code, just its interface.

1. `LegacyPaymentAdapter` implements `PaymentProcessor` interface
	- Adapter for Legacy to PaymentProcessor (Client wants to use the wall for energy (inside Legacy) but Legacy is USB-A and Payment Processor is USB-C)
		- Convert LegacyPayment to PaymentProcessor output
	- Adapter is passed into Client -> 
	- Client talks to type PaymentProcessor -> 
	- LegacyCode is called within Adapter and is translated in LegacyPaymentAdapter -> 
	- Adapter outputs PaymentProcessor formatted output (it has to)


2. `LegacyPaymentAdapter` _has-a_ (contains) an instance of the `LegacyPaymentGateway`

3. `Client` _uses_ the `PaymentProcessor` interface